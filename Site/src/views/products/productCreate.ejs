<!DOCTYPE html>
<html lang="en">

    <%- include("../partials/head.ejs")%>

    <body>
        <%- include("../partials/header.ejs")%>
        
    

        <main class="main">
            <%- include("../partials/bannerTop.ejs")%>
            <section class="containerCreate">
                
                <form action="/products" id="formCreate" method="POST" enctype="multipart/form-data">
                    <input size="40" type="text" id="name" name="name" placeholder="Nombre de Producto" style="border-radius: 5px;" class= "<%= locals.errors && errors.name ? 'is-invalid' : null %>"
                    value="<%= locals.oldData ? oldData.name : null %>">
                    <% if (locals.errors && errors.name) { %>
                        <div class="text-danger">
                            <%= errors.name.msg %>
                        </div>        
                    <% } %>
                    <br>
                    <br>
                    <textarea name="description" id="description" cols="33" rows="5" placeholder="Descripción del producto" style="border-radius: 5px;" class= "<%= locals.errors && errors.description? 'is-invalid' : null %>"
                        value="<%= locals.oldData ? oldData.description : null %>"></textarea>
                        <% if (locals.errors && errors.description) { %>
                            <div class="text-danger">
                                <%= errors.description.msg %>
                            </div>        
                        <% } %>
                    <br>
                    <br>
                    <h4>Foto de producto</h4>
                    <input type="file" name="image" id="image" style="border-radius: 5px;"class= "<%= locals.errors && errors.image? 'is-invalid' : null %>"
                    value="<%= locals.oldData ? oldData.image: null %>">
                    <% if (locals.errors && errors.image) { %>
                        <div class="text-danger">
                            <%= errors.image.msg %>
                        </div>        
                    <% } %>
                    <br>
                    <br>

                    </div>
    
                    <h4>Categoría</h4>
                    <div class="categ">
                        <div>
                            <select required name="Product_cat">
                                <% categories.forEach(Product_cat => { %>
                                    <option value="<%= Product_cat.id_category %>"><%= Product_cat.name %></option>
                                <% }) %>
                            </select>

                        </div>
                        <!-- <div>
                            <input type="checkbox" name="category" value="1" >
                            <label for="a">Guitarra</label>
                        </div>
                        <div>
                            <input type="checkbox" name="category" value="2" >
                            <label for="b">Bajo</label>
                        </div>
                        <div>
                            <input type="checkbox" name="category" value="3" >
                            <label for="c">Batería</label>
                        </div>
                        <div>
                            <input type="checkbox" name="category" value="4" >
                            <label for="d">Saxo</label>
                        </div>
                        <div>
                            <input type="checkbox" name="category" value="5" >
                            <label for="e">Accesorios</label>
                        </div> -->
                    </div>
                    
                    <br>
                    <br>

                    <h4>Marca</h4>
                    <div class="categ">
                        <div>
                            
                            <select required name="Product_bra">
                                <% brands.forEach(Product_bra => { %>
                                    <option value="<%= Product_bra.id_brand %>"><%= Product_bra.name %></option>
                                <% }) %>
                            </select>

                        </div>
                    </div>
                    
                    <br>
                    <br>
                    <input type="number" id="price" step=".01"  name="price" min="1" placeholder="Valor de Producto" style="border-radius: 5px;"class= "<%= locals.errors && errors.price? 'is-invalid' : null %>"
                    value="<%= locals.oldData ? oldData.price: null %>">
                    <% if (locals.errors && errors.price) { %>
                        <div class="text-danger">
                            <%= errors.price.msg %>
                        </div>        
                    <% } %>
                    <input type="number" step=".01" id="discount" name="discount" min="0" max="1" placeholder="Descuento %" style="border-radius: 5px;"class= "<%= locals.errors && errors.discount? 'is-invalid' : null %>"
                    value="<%= locals.oldData ? oldData.discount: null %>">
                    <% if (locals.errors && errors.discount) { %>
                        <div class="text-danger">
                            <%= errors.discount.msg %>
                        </div>        
                    <% } %>
                    <br>
                    <br>
                    <div class="createButtons">
                        
                        <input class="createButton" type="submit" value="Crear" >
                        <input class="deleteButton" type="reset" value="Borrar" > 
                    </div>
                    <br>
                    <br>
                </form>

            </section>
            <%- include("../partials/bannerBottom.ejs")%>

        </main>

      
        <%- include("../partials/footer.ejs")%>
        
    

    </body>
</html>